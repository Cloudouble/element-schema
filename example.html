<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>schema test page</title>
  <style>
      
  </style>
</head>
<body>
  <noscript>schema requires javascript enabled</noscript>
  
  <element-thing id="test" alternatename="The thing" description="the description" additionalType="myAdditionalType">Thing</element-thing>
  
  <!--<script src="https://cdn.jsdelivr.net/gh/cloudouble/element@1.7.1/element.min.js"></script>-->
  <script src="/_static/element/element.js"></script>
  <script src="schema.js"></script>
  <script src="renders/microdata/microdata.js"></script>
  <script>
      window.LiveElement.Element.load('example-build.json').then(() => {
        window.LiveElement.Element.root = `https://${window.location.hostname}/_static/schema`
        window.LiveElement.Element.load(['Schema'], `https://${window.location.hostname}/_static/schema`).then(() => {
          
          window.LiveElement.Element.root = `https://${window.location.hostname}/_static/schema/types`
          window.LiveElement.Element.load(
            ['Thing', 'Intangible', 'Class', 'DataType', 'Text', 'True', 'False', 'Boolean', 'DateTime', 'Date', 'Time', 'Integer', 'Float', 'Number', 'XPathType', 'CssSelectorType', 'URL', 'PronounceableText'], 
            `https://${window.location.hostname}/_static/schema/types`).then(() => {
              
            console.log(`Loaded! \n\nCustom tags available are: \n${Object.keys(window.LiveElement.Element.classes).join(', ')}`)
            
            window.test = document.getElementById('test')
            window.test.addEventListener('schema-setproperty', event => {
              console.log('example.html: line 35: ', event)
            })
            window.test.addEventListener('schema-setproperty-error', event => {
              console.log('example.html: line 38: ', event)
            })
            window.test.addEventListener('schema-load', event => {
              console.log('example.html: line 41: ', event)
            })
            
          })

        })
      })
  </script>
</body>
</html>