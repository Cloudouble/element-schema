<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>schema test page</title>
  <style>
      
  </style>
</head>
<body>
  <noscript>schema requires javascript enabled</noscript>
  
  <element-thing id="test" alternatename="The thing" description="the description" additionalType="myAdditionalType">Thing</element-thing>
  <br />
  <input id="test-input" placeholder="update the additionalType" />
  
  <script src="https://cdn.jsdelivr.net/gh/cloudouble/element@1.7.5/element.min.js"></script>
  <script src="schema.js"></script>
  <script src="renders/microdata/microdata.js"></script>
  <script>
      window.LiveElement.Element.load('example-build.json').then(() => {
        window.LiveElement.Element.root = `https://${window.location.hostname}/_static/schema`
        window.LiveElement.Element.load(['Schema'], `https://${window.location.hostname}/_static/schema`).then(() => {
          
          window.LiveElement.Element.root = `https://${window.location.hostname}/_static/schema/types`
          window.LiveElement.Element.load(
            window.LiveElement.Schema.CoreTypes.concat(window.LiveElement.Schema.DataTypes), 
            `https://${window.location.hostname}/_static/schema/types`).then(() => {
              
              window.test = document.getElementById('test')
              window.LiveElement.Element.render(window.test, undefined, false, `
              [itemprop] {
                display: block;
              }
              slot {
                font-weight: bold;
              }
              `)
              window.testInput = document.getElementById('test-input')
              window.test.addEventListener('schema-input', event => {
                console.log('test input: ', window.test.__input)
                console.log('test value ', window.test.__value)
                console.log('test validation ', window.test.__validation)
              })
              
              window.testInput.addEventListener('input', event => {
                window.test.additionalType = window.testInput.value
              })
              
              console.log(`Loaded! \n\nCustom tags available are: \n${Object.keys(window.LiveElement.Element.classes).join(', ')}`)
              
            
          })

        })
      })
  </script>
</body>
</html>