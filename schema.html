<style>
:host {
    contain: content;
}
:host([__editmode="true"]) slot {
    display: none;
}
:host(:not([__editmode="true"])) .editmode {
    display: none;
}
</style>
<template>
    <slot></slot>
</template>
<script>
    /* global CustomEvent showdown */
    class Schema extends window.LiveElement.Element.elements.HTMLElement {
        
        static __release
        static __prefix = window.LiveElement.Element.prefix
        static __context = 'https:\/\/schema.org\/'
        static _rdfs_label = 'Schema'
        
        static get observedAttributes() {
            return (super.observedAttributes || []).concat()
        }
        
        static __valid(input) {
            return true
        }
        
        constructor() {
            super()
            var $this = this
            //ensure the following line always goes at the end of the constructor function 
            $this.__render()
        }
        
        connectedCallback() {
            var $this = this
            //ensure the following line always goes at the end of the connectedCallback function 
            $this.__render($this.__isConnected = true)
        }
        
        toString() {
            return String(this.__value)
        }
        
        valueOf() {
            return this.__value
        }
        
        __input = undefined
        __value = undefined
        __validation = {}
        __map = {}
        __container = undefined
        __containerPropertyName = undefined
        __propertyMap = undefined
        __isConnected = false
        
        __load(input, validation, propertyMap) {
            var $this = this
            $this.__input = input
            if (!validation) {
                var validator
                if ($this.__container && $this.__containerPropertyName && $this.__propertyMap) {
                    validator = window.LiveElement.Schema.getValidator($this.__propertyMap.propertyName, window.LiveElement.Element.getInheritance($this.__container.constructor), $this.__propertyMap)
                } else {
                    validator = window.LiveElement.Schema.getValidator($this.constructor._rdfs_label)
                }
                $this.__validation = validator && typeof validator == 'function' ? validator($this.__input, propertyMap) : {}
            }
            $this.__value = typeof $this.__validation == 'object' ? $this.__validation.value : undefined 
            if ($this.__input && typeof $this.__input == 'object') {
                Object.keys($this.__input).forEach(propertyName => {
                    $this[propertyName] = $this.__input[propertyName]
                })
            }
            $this.dispatchEvent(new window.CustomEvent('schema-load', {detail: {input: input, validation: validation, propertyMap: propertyMap}}))
        }
        
        __render() {
            var $this = this
            var render
            if ($this.__container && $this.__containerPropertyName && $this.__propertyMap) {
                render = window.LiveElement.Schema.getRender($this.__containerPropertyName, window.LiveElement.Element.getInheritance($this.__container.constructor), $this.__propertyMap)
            } else {
                render = window.LiveElement.Schema.getRender($this.constructor._rdfs_label)
            }
            if (typeof render == 'function') {
                render($this)
            } else if (render && typeof render == 'object') {
                window.LiveElement.Element.render($this, render.asClass, render.renderFunction, render.style, render.template)
            }
        }
        
    }
</script>